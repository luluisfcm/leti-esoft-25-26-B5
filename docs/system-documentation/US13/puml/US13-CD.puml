@startuml
title US13 - Class Diagram
'https://plantuml.com/class-diagram

hide circle
skinparam classAttributeIconSize 0

' ===================== View =====================
class RegisterVaccinationCenterView {
}

' ===================== Controller =====================
class RegisterVaccinationCenterController {
    +getVaccineTypes(): List<VaccineType>
    +registerVaccinationCenter(dto: VaccinationCenterDto): Result
}

' ===================== Actor =====================
class DGSAdministrator {
    - name
    + getVaccinationCenterService(): VaccinationCenterService
}

' ===================== Service =====================
class VaccinationCenterService {
    + VaccinationCenterService(centerRepo: VaccinationCenterRepository, vaccineRepo: VaccineTypeRepository)
    + getVaccineTypes(): List<VaccineType>
    + register(dto: VaccinationCenterDto): Result
}

' ===================== DTO =====================
class VaccinationCenterDto {
    - name
    - postalAddress
    - phone
    - email
    - website
    - maxVaccinesPerHour
    - openingHours
    - closingHours
    - type
    - vaccineTypeIds : List<String>
}

' ===================== Repositories =====================
interface VaccinationCenterRepository <<interface>> {
    + save(center: VaccinationCenter): Result
}

interface VaccineTypeRepository <<interface>> {
    + getAll(): List<VaccineType>
    + getById(id: String): VaccineType
}

' ===================== Repository Factory =====================
interface RepositoryFactory <<interface>> {
    + getVaccinationCenterRepository(): VaccinationCenterRepository
    + getVaccineTypeRepository(): VaccineTypeRepository
}

' ===================== Domain =====================
abstract class VaccinationCenter {
    - name
    - postalAddress
    - phone
    - email
    - website
    - maxVaccinesPerHour
    - openingHours
    - closingHours
}

class CommunityMassVaccinationCenter
class HealthcareCenter

class VaccineType {
    - disease
    - shortDescription
}

VaccinationCenter <|-- CommunityMassVaccinationCenter
VaccinationCenter <|-- HealthcareCenter

VaccinationCenter "1" -right-> "0..*" VaccineType : supports >
CommunityMassVaccinationCenter "1" -right-> "1..*" VaccineType : administers >

' ===================== Associations =====================
RegisterVaccinationCenterView ..> RegisterVaccinationCenterController
RegisterVaccinationCenterView ..> VaccineType

RegisterVaccinationCenterController ..> DGSAdministrator
RegisterVaccinationCenterController ..> VaccinationCenterService

VaccinationCenterService ..> VaccinationCenterRepository
VaccinationCenterService ..> VaccineTypeRepository
VaccinationCenterService ..> VaccinationCenterDto
VaccinationCenterService ..> VaccinationCenter

DGSAdministrator "1" -down-> "1" RepositoryFactory : uses

RepositoryFactory .right.> VaccinationCenterRepository
RepositoryFactory .right.> VaccineTypeRepository

VaccinationCenterRepository "1" -right-> "0..*" VaccinationCenter : records
VaccineTypeRepository "1" -right-> "0..*" VaccineType : records

@enduml
