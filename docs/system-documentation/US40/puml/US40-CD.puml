@startuml
hide circle
title US40 - CD (Updated with DTO)
skinparam classAttributeIconSize 0

class ConsultWaitingRoomView {
}

class ConsultWaitingRoomController {
    +getWaitingRoomList(centerId: string): List<WaitingRoomDTO>
}

class WaitingRoomDTO {
    +name: string
    +snsNumber: string
    +arrivalTime: string
}

class Nurse {
    -email: string
    +getCheckInService(): CheckInService
}

class CheckInService {
    +CheckInService(repo: CheckInRepository)
    +getWaitingRoomList(centerId: string): List<WaitingRoomDTO>
}

interface CheckInRepository <<interface>> {
    +findByCenter(centerId: string): List<CheckIn>
}

interface RepositoryFactory <<interface>> {
    +getCheckInRepository(): CheckInRepository
}

class CheckIn {
    -arrivalDateTime: string
    +getSNSUser(): SNSUser
}

class SNSUser {
    -snsUserNumber: string
    -name: string
}

' Relationships
ConsultWaitingRoomView ..> ConsultWaitingRoomController
ConsultWaitingRoomView ..> WaitingRoomDTO

ConsultWaitingRoomController ..> Nurse
ConsultWaitingRoomController ..> CheckInService
ConsultWaitingRoomController ..> WaitingRoomDTO

CheckInService ..> CheckInRepository
CheckInService ..> WaitingRoomDTO
CheckInService ..> CheckIn

Nurse ..> RepositoryFactory
RepositoryFactory ..> CheckInRepository

CheckIn "1" -> "1" SNSUser : associated to
@enduml